# 04 - 假数据方案（EXAMPLE DB）

## 概述

MVP 阶段不引入真实数据库，所有数据来自 `src/data/mock.ts` 单文件。假数据基于**中国场景**构建，覆盖信用卡、保险、会员服务、电信等常见权益来源，确保 Demo 有足够的代入感。

## 时间设定

所有假数据以 **2026 年 2 月 13 日**（今天）为基准日。这样可以制造丰富的到期/过期/已用场景。

## 受益人（Members）

```typescript
export const members: Member[] = [
  { id: "m-dad",    name: "爸爸", relationship: "self",    avatar: "👨", createdAt: "2025-01-01T00:00:00Z" },
  { id: "m-mom",    name: "妈妈", relationship: "spouse",  avatar: "👩", createdAt: "2025-01-01T00:00:00Z" },
  { id: "m-grandma", name: "奶奶", relationship: "parent", avatar: "👵", createdAt: "2025-01-01T00:00:00Z" },
];
```

## 来源（Sources）

### 来源一：招商银行经典白金卡

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 分类 | `credit-card` |
| 币种 | CNY |
| 周期锚点 | 每月 25 日（账单日） |
| 网站 | `https://www.cmbchina.com` |
| 服务热线 | `95555` |
| 生效日期 | `2024-01-15` |
| 到期日期 | `2027-01-15` |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 机场贵宾厅 | quota | 6 次/年 | 年度(1月1日) | 是 | 已用 4 次，制造"部分使用"状态 |
| 机场接送机 | quota | 6 次/年 | 年度(1月1日) | 是 | 已用 1 次 |
| 酒店权益 | credit | 300 元/年 | 年度(1月1日) | 否 | **未使用，5 天后过期**（制造紧急提醒） |
| 体检服务 | quota | 1 次/年 | 年度(1月1日) | 否 | 未使用 |
| 洗牙服务 | quota | 1 次/年 | 年度(1月1日) | 否 | 未使用 |
| 星巴克买一送一 | credit | 月度 | 每月(25日) | 否 | 本月已使用 |
| 视频网站会员月卡 | credit | 月度 | 每月(25日) | 否 | 本月未使用，月底过期 |
| 消费 1 笔免月费 | action | — | 每月(25日) | — | 仅提醒 |

### 来源二：平安保险全家福

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 分类 | `insurance` |
| 币种 | CNY |
| 周期锚点 | 每年 5 月 20 日（保单日） |
| 网站 | `https://www.pingan.com` |
| 服务热线 | `95511` |
| 生效日期 | `2023-05-20` |
| 到期日期 | `2028-05-20` |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 全家体检 | quota | 1 次/年 | 年度(5月20日) | 是 | 已使用（上周期） |
| 齿科洗牙 | quota | 2 次/年 | 年度(5月20日) | 是 | 已用 1 次 |
| 门诊挂号绿通 | quota | 4 次/年 | 年度(5月20日) | 是 | 已用 2 次 |
| 住院押金垫付 | action | — | 年度(5月20日) | — | 仅提醒 |

### 来源三：88VIP

| 字段 | 值 |
|---|---|
| 受益人 | 妈妈 |
| 分类 | `membership` |
| 币种 | CNY |
| 周期锚点 | 每月 1 日（自然月） |
| 网站 | `https://www.taobao.com` |
| 服务热线 | — |
| 生效日期 | `2025-08-08` |
| 到期日期 | `2026-08-08` |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 优酷会员月卡 | credit | 月度 | 每月(1日) | 否 | 本月已使用 |
| 饿了么红包 | credit | 月度 | 每月(1日) | 否 | 本月已使用 |
| 淘宝红包 | credit | 20 元/月 | 每月(1日) | 否 | **本月未使用** |
| 飞猪酒店红包 | credit | 月度 | 每月(1日) | 否 | 本月已使用 |
| 万豪金卡 | action | — | 年度(1月1日) | — | 仅提醒 |

### 来源四：京东 PLUS

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 分类 | `membership` |
| 币种 | CNY |
| 周期锚点 | 每月 1 日 |
| 网站 | `https://www.jd.com` |
| 服务热线 | — |
| 生效日期 | `2025-11-11` |
| 到期日期 | `2026-11-11` |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 运费券 | quota | 5 张/月 | 每月(1日) | 否 | 已用 3 张 |
| 全品类券 | credit | 月度 | 每月(1日) | 否 | 本月已使用 |
| 爱奇艺会员 | credit | 月度 | 每月(1日) | 否 | 本月未使用 |

### 来源五：中国移动

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 分类 | `telecom` |
| 币种 | CNY |
| 周期锚点 | 每月 1 日 |
| 网站 | `https://www.10086.cn` |
| 服务热线 | `10086` |
| 生效日期 | — |
| 到期日期 | — |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 视频彩铃会员 | credit | 月度 | 每月(1日) | 否 | 本月已使用 |
| 咪咕阅读会员 | credit | 月度 | 每月(1日) | 否 | 本月未使用 |
| 话费充值满减 | action | — | 每月(1日) | — | 仅提醒 |

### 来源六：浦发银行美运白金卡

| 字段 | 值 |
|---|---|
| 受益人 | 妈妈 |
| 分类 | `credit-card` |
| 币种 | CNY |
| 周期锚点 | 每月 18 日（账单日） |
| 网站 | `https://www.spdb.com.cn` |
| 服务热线 | `95528` |
| 生效日期 | `2023-06-01` |
| 到期日期 | `2026-03-01` |

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 机场贵宾厅 | quota | 4 次/年 | 年度(1月1日) | 是 | 已用 2 次 |
| 延误险 | action | — | 年度(1月1日) | — | 仅提醒 |
| 购物返现 | credit | 100 元/季 | 季度(1月1日) | 否 | 本季未使用 |

### 来源七：工商银行白金卡（已归档）

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 分类 | `credit-card` |
| 币种 | CNY |
| 周期锚点 | 每月 10 日 |
| 网站 | `https://www.icbc.com.cn` |
| 服务热线 | `95588` |
| 生效日期 | `2020-03-01` |
| 到期日期 | `2025-03-01` |
| **archived** | **true** |

> 已注销的信用卡，保留历史数据但不参与统计。

**权益清单：**

| 权益名 | 类型 | 配额/额度 | 周期 | 共享 | 状态设计 |
|---|---|---|---|---|---|
| 机场贵宾厅 | quota | 2 次/年 | 年度(1月1日) | 否 | 归档，不参与计算 |
| 积分返现 | credit | 50 元/月 | 每月(10日) | 否 | 归档，不参与计算 |

## 积分来源（PointsSources）

### 积分一：招行永久积分

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 余额 | 23,500 积分 |

**可兑换项：**

| 名称 | 所需积分 |
|---|---|
| 星巴克中杯拿铁 | 699 |
| 哈根达斯单球 | 1,200 |
| 网易严选 50 元券 | 5,000 |
| 万豪 1 晚房券 | 20,000 |

### 积分二：平安万里通

| 字段 | 值 |
|---|---|
| 受益人 | 爸爸 |
| 余额 | 8,200 积分 |

**可兑换项：**

| 名称 | 所需积分 |
|---|---|
| 瑞幸咖啡券 | 500 |
| 电影票 | 2,000 |
| 京东 E 卡 100 元 | 8,000 |

### 积分三：88VIP 淘金币

| 字段 | 值 |
|---|---|
| 受益人 | 妈妈 |
| 余额 | 1,580 积分 |

**可兑换项：**

| 名称 | 所需积分 |
|---|---|
| 满减红包 5 元 | 500 |
| 满减红包 10 元 | 900 |
| 天猫超市优惠券 | 1,200 |

## 核销记录（Redemptions）

为制造丰富的 Tracker 核销日志，预设以下历史核销记录：

| 时间 | 权益 | 使用人 | 说明 |
|---|---|---|---|
| 2026-02-12 | 机场贵宾厅 (招行) | 爸爸 | 昨天出差使用 |
| 2026-02-10 | 饿了么红包 (88VIP) | 妈妈 | — |
| 2026-02-08 | 星巴克买一送一 (招行) | 爸爸 | — |
| 2026-02-05 | 优酷会员月卡 (88VIP) | 妈妈 | — |
| 2026-02-03 | 运费券 (京东 PLUS) | 爸爸 | 买了个充电器 |
| 2026-02-01 | 飞猪酒店红包 (88VIP) | 妈妈 | — |
| 2026-02-01 | 视频彩铃会员 (移动) | 爸爸 | — |
| 2026-02-01 | 全品类券 (京东 PLUS) | 爸爸 | — |
| 2026-01-28 | 机场贵宾厅 (招行) | 妈妈 | 陪奶奶飞三亚 |
| 2026-01-25 | 运费券 (京东 PLUS) | 爸爸 | — |
| 2026-01-20 | 机场贵宾厅 (招行) | 爸爸 | — |
| 2026-01-15 | 机场接送机 (招行) | 奶奶 | 奶奶去机场 |
| 2026-01-10 | 齿科洗牙 (平安) | 妈妈 | — |
| 2026-01-05 | 机场贵宾厅 (招行) | 爸爸 | — |
| 2026-01-02 | 门诊挂号绿通 (平安) | 奶奶 | — |
| 2025-12-20 | 门诊挂号绿通 (平安) | 爸爸 | — |
| 2025-12-15 | 购物返现 (浦发) | 妈妈 | Q4 返现 |
| 2025-11-10 | 机场贵宾厅 (浦发) | 妈妈 | — |
| 2025-10-05 | 机场贵宾厅 (浦发) | 妈妈 | — |
| 2025-09-01 | 运费券 (京东 PLUS) | 爸爸 | — |

## 设计要点

### 数据覆盖矩阵

此假数据方案确保以下场景全部被覆盖：

| 场景 | 假数据覆盖 |
|---|---|
| **即将过期（expiring_soon）** | 招行酒店权益（年度，5 天后重置窗口无关，但设计为年底前到期） |
| **完全未使用（available）** | 招行体检、洗牙、淘宝红包、爱奇艺会员等 |
| **部分使用（partially_used）** | 招行贵宾厅 4/6、运费券 3/5、齿科洗牙 1/2 |
| **已用完（exhausted）** | 星巴克买一送一、优酷会员、饿了么红包等 |
| **Action 类型（pending）** | 消费免月费、延误险、话费充值、万豪金卡 |
| **共享权益** | 贵宾厅、接送机、体检、洗牙、门诊绿通 |
| **不同周期** | 月度(1日/18日/25日)、季度、年度(1月1日/5月20日) |
| **不同币种** | 全部 CNY（MVP 范围内） |
| **多受益人** | 爸爸(4 来源)、妈妈(2 来源)、奶奶(核销记录中) |
| **积分来源** | 3 个积分来源，各有 3-4 个可兑换项 |
| **跨受益人核销** | 奶奶使用爸爸的招行贵宾厅和接送机 |
| **已归档来源** | 工商银行白金卡（archived: true），验证归档过滤逻辑 |
| **成员关系** | 本人(爸爸)、配偶(妈妈)、父母(奶奶)，覆盖 3 种 MemberRelationship |
| **有 website 的来源** | 招行、平安、88VIP、京东、移动、浦发、工行 — 全部有 website，用于验证 favicon 加载 |
| **有 phone 的来源** | 招行(95555)、平安(95511)、移动(10086)、浦发(95528)、工行(95588) — 5 个有热线 |
| **无 phone 的来源** | 88VIP、京东 PLUS — 验证 phone 为 null 的显示 |
| **有完整有效期的来源** | 招行、平安、88VIP、京东、浦发、工行 — 有 validFrom + validUntil |
| **无有效期的来源** | 中国移动 — validFrom 和 validUntil 均为 null |
| **已过期来源（未归档）** | 无（工行已过期但已归档）— 如需测试，可在 UT 中构造 |
| **即将到期来源** | 浦发(2026-03-01，16 天后) — 在 30 天告警阈值内，Dashboard 显示到期提醒 |

### 数据量级

| 实体 | 数量 |
|---|---|
| 受益人 | 3 |
| 来源 | 7（含 1 个已归档） |
| 权益 | 28（含归档来源的 2 个） |
| 核销记录 | 20 |
| 积分来源 | 3 |
| 可兑换项 | 11 |

# 03 - é¡µé¢è®¾è®¡ä¸ UI æ˜ å°„

## æ¦‚è¿°

MVP åŒ…å« **5 ä¸ªæ ¸å¿ƒé¡µé¢**ï¼Œå…¨éƒ¨ä½äº `(dashboard)` è·¯ç”±ç»„ä¸‹ï¼ˆå¸¦ä¾§è¾¹æ  + é¡¶æ ï¼‰ã€‚æ‰€æœ‰ UI ç»„ä»¶ä¼˜å…ˆä» basalt æ¨¡æ¿åº“å¤ç”¨æˆ–é€‚é…ï¼Œç¡®ä¿è§†è§‰ä¸€è‡´æ€§ã€‚

## é¡µé¢æ€»è§ˆ

| è·¯ç”± | é¡µé¢ | åŠŸèƒ½å®šä½ | å¯¹åº”éœ€æ±‚æ¨¡å— |
|---|---|---|---|
| `/` | Dashboard | æƒ…æŠ¥ä¸­å¿ƒï¼šå›ç­”"ç°åœ¨è¦ç”¨ä»€ä¹ˆï¼Ÿè¿˜å‰©å¤šå°‘ï¼Ÿ" | æƒ…æŠ¥ä¸­å¿ƒ |
| `/sources` | Sources | èµ„äº§åº“åˆ—è¡¨ï¼šæ‰€æœ‰æ¥æºçš„å¡ç‰‡è§†å›¾ | èµ„äº§åº“ |
| `/sources/[id]` | Source Detail | èµ„äº§åº“è¯¦æƒ…ï¼šå•ä¸ªæ¥æºçš„æƒç›Šæ¸…å•ä¸çŠ¶æ€ | èµ„äº§åº“ |
| `/tracker` | Tracker | æ“ä½œå°ï¼šå¿«é€Ÿæ ¸é”€ + æ ¸é”€æ—¥å¿— | æƒç›Šè¿½è¸ª |
| `/settings` | Settings | è®¾ç½®ï¼šå—ç›Šäººç®¡ç† + åå¥½è®¾ç½® | â€” |

## ä¾§è¾¹æ å¯¼èˆªæ›´æ–°

åœ¨ `AppSidebar.tsx` çš„ `NAV_GROUPS` ä¸­æ·»åŠ ï¼š

```typescript
const NAV_GROUPS = [
  {
    label: "æ€»è§ˆ",
    items: [
      { title: "ä»ªè¡¨ç›˜", url: "/", icon: LayoutDashboard },
      { title: "æ¥æº",   url: "/sources", icon: Wallet },
      { title: "æ ¸é”€å°", url: "/tracker", icon: CheckCircle },
    ],
  },
  {
    label: "ç³»ç»Ÿ",
    items: [
      { title: "è®¾ç½®", url: "/settings", icon: Settings },
    ],
  },
];
```

---

## é¡µé¢ä¸€ï¼šDashboardï¼ˆæƒ…æŠ¥ä¸­å¿ƒï¼‰

**è·¯ç”±**ï¼š`/`
**ViewModel**ï¼š`useDashboardViewModel`
**æ ¸å¿ƒé—®é¢˜**ï¼šç°åœ¨è¦ç”¨ä»€ä¹ˆï¼Ÿè¿˜å‰©å¤šå°‘ï¼Ÿå…¨å®¶æ¦‚è§ˆã€‚

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: StatGrid (4åˆ—)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ€»æƒç›Šæ•°  â”‚ â”‚ å³å°†è¿‡æœŸ  â”‚ â”‚ æœ¬æœˆå·²ç”¨  â”‚ â”‚ å·²ç”¨å®Œ    â”‚   â”‚
â”‚  â”‚    24    â”‚ â”‚    3     â”‚ â”‚    8     â”‚ â”‚   12     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: 2:1 åˆ†æ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  å³å°†è¿‡æœŸæé†’åˆ—è¡¨            â”‚ â”‚  æ€»ä½“ä½¿ç”¨ç‡       â”‚    â”‚
â”‚  â”‚  (RecentListCard é€‚é…)      â”‚ â”‚  (RadialProgress) â”‚    â”‚
â”‚  â”‚                            â”‚ â”‚      68%         â”‚    â”‚
â”‚  â”‚  âš  æ‹›è¡Œé…’åº— Â· 5å¤©åè¿‡æœŸ     â”‚ â”‚                  â”‚    â”‚
â”‚  â”‚  âš  å¹³å®‰ä½“æ£€ Â· 12å¤©åè¿‡æœŸ    â”‚ â”‚  å·²ç”¨ / æ€»æ•°     â”‚    â”‚
â”‚  â”‚  âš  88VIPçº¢åŒ… Â· æœˆåº•è¿‡æœŸ    â”‚ â”‚  å‰©ä½™            â”‚    â”‚
â”‚  â”‚  ğŸ”´ æ‹›è¡Œç™½é‡‘å¡ Â· å³å°†åˆ°æœŸ   â”‚ â”‚                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: 2:1 åˆ†æ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æœˆåº¦æ ¸é”€è¶‹åŠ¿               â”‚ â”‚  çƒ­é—¨æ¥æº         â”‚    â”‚
â”‚  â”‚  (BarChartCard é€‚é…)        â”‚ â”‚  (ItemListCard)   â”‚    â”‚
â”‚  â”‚  â–ˆ â–ˆ â–‡ â–… â–† â–ˆ              â”‚ â”‚  æ‹›è¡Œç™½é‡‘ Â· 5/8   â”‚    â”‚
â”‚  â”‚  1  2  3  4  5  6         â”‚ â”‚  å¹³å®‰ä¿é™© Â· 3/6   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶æ˜ å°„

| åŒºåŸŸ | basalt ç»„ä»¶ | é€‚é…æ–¹å¼ |
|---|---|---|
| StatGrid æ‘˜è¦ | `StatCardWidget` + `StatGrid` | **ç›´æ¥å¤ç”¨**ï¼Œæ›¿æ¢æ•°æ® |
| å³å°†è¿‡æœŸåˆ—è¡¨ | `RecentListCard` | **é€‚é…**ï¼šicon æ”¹ä¸ºè­¦å‘Šçº§åˆ«å›¾æ ‡ï¼Œamount æ”¹ä¸ºè¿‡æœŸå¤©æ•°ï¼Œdate æ”¹ä¸ºæ¥æºå |
| æ€»ä½“ä½¿ç”¨ç‡ | `RadialProgressCard` | **ç›´æ¥å¤ç”¨**ï¼ŒSavedâ†’å·²ç”¨ï¼ŒTargetâ†’æ€»æ•°ï¼ŒRemainingâ†’å‰©ä½™ |
| æœˆåº¦è¶‹åŠ¿ | `BarChartCard` | **é€‚é…**ï¼šæ•°æ®æ”¹ä¸ºæ¯æœˆæ ¸é”€æ¬¡æ•° |
| çƒ­é—¨æ¥æº | `ItemListCard` | **é€‚é…**ï¼šbalance æ”¹ä¸ºä½¿ç”¨è®¡æ•°ï¼Œchange% æ”¹ä¸ºä½¿ç”¨ç‡% |

### ViewModel è¾“å‡º

```typescript
interface DashboardViewModel {
  // Row 1: æ‘˜è¦ç»Ÿè®¡
  stats: StatCard[];            // 4 ä¸ªç»Ÿè®¡å¡ç‰‡

  // Row 2
  expiringAlerts: AlertItem[];  // å³å°†è¿‡æœŸæé†’åˆ—è¡¨ï¼ˆå«æƒç›Šå‘¨æœŸåˆ°æœŸ + æ¥æºæœ‰æ•ˆæœŸåˆ°æœŸï¼‰
  overallUsage: {               // æ€»ä½“ä½¿ç”¨ç‡
    usedCount: number;
    totalCount: number;
    percentage: number;
  };

  // Row 3
  monthlyTrend: MonthlyBar[];   // æœˆåº¦æ ¸é”€è¶‹åŠ¿
  topSources: SourceSummary[];  // çƒ­é—¨æ¥æº
}

// AlertItem æ”¯æŒä¸¤ç§åˆ°æœŸç±»å‹
interface AlertItem {
  id: string;
  label: string;               // æƒç›Šåæˆ–æ¥æºå
  sourceName: string;          // æ‰€å±æ¥æºåï¼ˆæƒç›Šåˆ°æœŸæ—¶æ˜¾ç¤ºï¼‰
  alertType: "benefit_cycle" | "source_validity";  // æƒç›Šå‘¨æœŸåˆ°æœŸ vs æ¥æºæœ‰æ•ˆæœŸåˆ°æœŸ
  daysUntil: number;           // è·åˆ°æœŸå¤©æ•°
  urgencyClass: string;        // Tailwind ç±»å
}
```

---

## é¡µé¢äºŒï¼šSourcesï¼ˆèµ„äº§åº“åˆ—è¡¨ï¼‰

**è·¯ç”±**ï¼š`/sources`
**ViewModel**ï¼š`useSourcesViewModel`
**æ ¸å¿ƒé—®é¢˜**ï¼šæˆ‘æœ‰å“ªäº›æ¥æºï¼Ÿæ¯ä¸ªæ¥æºçš„ä½¿ç”¨æƒ…å†µå¦‚ä½•ï¼Ÿ

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: StatGrid (3åˆ—)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æ€»æ¥æºæ•°     â”‚ â”‚  æ´»è·ƒæƒç›Š     â”‚ â”‚  ç§¯åˆ†æ¥æº     â”‚    â”‚
â”‚  â”‚     8        â”‚ â”‚     24       â”‚ â”‚     3        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: å—ç›Šäººç­›é€‰æ¡                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [å…¨éƒ¨]  [çˆ¸çˆ¸]  [å¦ˆå¦ˆ]  [å¥¶å¥¶]      [+ æ–°å¢æ¥æº] â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: æ¥æºå¡ç‰‡ç½‘æ ¼ (md:2åˆ—)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ [favicon] æ‹›è¡Œç»å…¸ç™½é‡‘å¡â”‚ â”‚ ğŸ›¡ å¹³å®‰å…¨å®¶ç¦ä¿é™©      â”‚     â”‚
â”‚  â”‚ çˆ¸çˆ¸ Â· ä¿¡ç”¨å¡         â”‚ â”‚ çˆ¸çˆ¸ Â· ä¿é™©           â”‚     â”‚
â”‚  â”‚ ğŸ“ 95555              â”‚ â”‚ ğŸ“ 95511              â”‚     â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 5/8 æƒç›Š â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 3/6 æƒç›Šâ”‚     â”‚
â”‚  â”‚ ä¸‹æ¬¡é‡ç½®ï¼š3æœˆ25æ—¥      â”‚ â”‚ æœ‰æ•ˆæœŸè‡³ 2028-05-20   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ [favicon] 88VIP       â”‚ â”‚ â­ æ‹›è¡Œæ°¸ä¹…ç§¯åˆ†        â”‚     â”‚
â”‚  â”‚  å¦ˆå¦ˆ Â· ä¼šå‘˜           â”‚ â”‚ çˆ¸çˆ¸ Â· ç§¯åˆ†           â”‚     â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 4/5 æƒç›Š â”‚ â”‚ ä½™é¢: 23,500 ç§¯åˆ†     â”‚     â”‚
â”‚  â”‚  ä¸‹æ¬¡é‡ç½®ï¼š3æœˆ1æ—¥       â”‚ â”‚ å¯å…‘æ¢ 3 é¡¹           â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 4: å·²å½’æ¡£æ¥æº (é»˜è®¤æŠ˜å )                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â–¶ å·²å½’æ¡£ (1)                                    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  ğŸ¦ å·¥å•†é“¶è¡Œç™½é‡‘å¡ (å·²å½’æ¡£)               â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  çˆ¸çˆ¸ Â· ä¿¡ç”¨å¡ Â· [å–æ¶ˆå½’æ¡£]               â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

> **æ¥æºå¡ç‰‡å³é”®/æ“ä½œèœå•**ï¼šæ¯å¼ æ¥æºå¡ç‰‡çš„å³ä¸Šè§’æä¾› `â‹®` æ“ä½œèœå•ï¼ŒåŒ…å«ï¼šç¼–è¾‘ã€å½’æ¡£ã€åˆ é™¤ã€‚
```

### ç»„ä»¶æ˜ å°„

| åŒºåŸŸ | basalt ç»„ä»¶ | é€‚é…æ–¹å¼ |
|---|---|---|
| StatGrid æ‘˜è¦ | `StatCardWidget` + `StatGrid` | **ç›´æ¥å¤ç”¨** |
| å—ç›Šäººç­›é€‰æ¡ | â€” | **æ–°å»º**ï¼šæ°´å¹³ pill æŒ‰é’®è¡Œ |
| æ¥æºå¡ç‰‡ | `TargetCardsPage` çš„ç›®æ ‡å¡ç‰‡æ¨¡å¼ | **é€‚é…**ï¼šfavicon å›¾æ ‡ï¼ˆå«åŠ è½½å¤±è´¥ fallbackï¼‰+ æ ‡é¢˜ + æœåŠ¡çƒ­çº¿ + è¿›åº¦æ¡ + åº•éƒ¨å…ƒæ•°æ®ï¼ˆæœ‰æ•ˆæœŸ/ä¸‹æ¬¡é‡ç½®ï¼‰+ å·²è¿‡æœŸæ ‡ç­¾ + æ“ä½œèœå•ï¼ˆç¼–è¾‘/å½’æ¡£/åˆ é™¤ï¼‰ |
| ç§¯åˆ†æ¥æºå¡ç‰‡ | `TargetCardsPage` çš„ç›®æ ‡å¡ç‰‡æ¨¡å¼ | **é€‚é…**ï¼šè¿›åº¦æ¡æ›¿æ¢ä¸ºä½™é¢æ˜¾ç¤º + å¯å…‘æ¢é¡¹è®¡æ•° |

### ViewModel è¾“å‡º

```typescript
interface SourcesViewModel {
  stats: StatCard[];
  members: MemberOption[];            // ç­›é€‰é€‰é¡¹
  selectedMember: string | null;
  setSelectedMember: (id: string | null) => void;
  sourceCards: SourceCard[];          // è¿‡æ»¤åçš„æ¥æºå¡ç‰‡ï¼ˆä¸å«å·²å½’æ¡£ï¼‰
  archivedSourceCards: SourceCard[];  // å·²å½’æ¡£æ¥æºå¡ç‰‡
  pointsSourceCards: PointsSourceCard[];  // ç§¯åˆ†æ¥æºå¡ç‰‡

  // CRUD æ“ä½œ
  formOpen: boolean;
  setFormOpen: (open: boolean) => void;
  editingSource: Source | null;
  formInput: CreateSourceInput;
  setFormInput: (input: CreateSourceInput) => void;
  formErrors: ValidationError[];
  handleCreateSource: () => void;
  handleUpdateSource: () => void;
  handleDeleteSource: (id: string) => void;
  handleToggleArchive: (id: string) => void;
  startEditSource: (id: string) => void;

  // ç§¯åˆ†æ¥æº CRUD
  handleCreatePointsSource: () => void;
  handleDeletePointsSource: (id: string) => void;
}
```

---

## é¡µé¢ä¸‰ï¼šSource Detailï¼ˆèµ„äº§åº“è¯¦æƒ…ï¼‰

**è·¯ç”±**ï¼š`/sources/[id]`
**ViewModel**ï¼š`useSourceDetailViewModel(id)`
**æ ¸å¿ƒé—®é¢˜**ï¼šè¿™ä¸ªæ¥æºæœ‰å“ªäº›æƒç›Šï¼Ÿå„è‡ªçŠ¶æ€å¦‚ä½•ï¼Ÿ

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: æ¥æºå¤´éƒ¨å¡ç‰‡ (å…¨å®½)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  [favicon] æ‹›è¡Œç»å…¸ç™½é‡‘å¡          [å·²è¿‡æœŸ] æ ‡ç­¾  â”‚    â”‚
â”‚  â”‚  å—ç›Šäººï¼šçˆ¸çˆ¸ Â· ä¿¡ç”¨å¡ Â· CNY                       â”‚    â”‚
â”‚  â”‚  ğŸ“ 95555 Â· ğŸŒ cmbchina.com                      â”‚    â”‚
â”‚  â”‚  æœ‰æ•ˆæœŸï¼š2024-01-15 ~ 2027-01-15                  â”‚    â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 62% å·²ä½¿ç”¨                      â”‚    â”‚
â”‚  â”‚  å‘¨æœŸï¼šæ¯æœˆ25æ—¥é‡ç½® Â· ä¸‹æ¬¡é‡ç½®ï¼š3æœˆ25æ—¥              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: StatGrid (3åˆ—)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  æƒç›Šæ€»æ•°     â”‚ â”‚  å·²ç”¨å®Œ       â”‚ â”‚  å³å°†è¿‡æœŸ     â”‚    â”‚
â”‚  â”‚     8        â”‚ â”‚     5        â”‚ â”‚     1        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: 2:1 åˆ†æ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æƒç›Šè¿›åº¦åˆ—è¡¨                    â”‚ â”‚  å—ç›Šäººä½¿ç”¨    â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚   ç»Ÿè®¡        â”‚   â”‚
â”‚  â”‚  âœ… æœºåœºè´µå®¾å…    [4/6 æ¬¡]      â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘              â”‚ â”‚  çˆ¸çˆ¸ Â· 8æ¬¡   â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚  å¦ˆå¦ˆ Â· 3æ¬¡   â”‚   â”‚
â”‚  â”‚  ğŸŸ¡ é…’åº—æƒç›Š      [0/1 æ¬¡]      â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  âš  5å¤©åè¿‡æœŸ â”‚ â”‚              â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  âœ… æ˜Ÿå·´å…‹ä¹°ä¸€é€ä¸€  å·²ä½¿ç”¨       â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              â”‚ â”‚              â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  ğŸ”” æ¶ˆè´¹1ç¬”å…æœˆè´¹  å¾…åŠ         â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  (Action ç±»å‹ï¼Œä»…æ˜¾ç¤ºæé†’)       â”‚ â”‚              â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  [+ æ·»åŠ æƒç›Š]                   â”‚ â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

> **æƒç›Šè¡Œæ“ä½œ**ï¼šæ¯è¡Œå³ä¾§æä¾›æ“ä½œæŒ‰é’®ç»„ï¼šç¼–è¾‘ã€åˆ é™¤ã€‚Quota/Credit ç±»å‹é¢å¤–æ˜¾ç¤º [æ ¸é”€] å¿«æ·æŒ‰é’®ã€‚
```

### ç»„ä»¶æ˜ å°„

| åŒºåŸŸ | basalt ç»„ä»¶ | é€‚é…æ–¹å¼ |
|---|---|---|
| æ¥æºå¤´éƒ¨å¡ç‰‡ | `TargetCardsPage` ç›®æ ‡å¡ç‰‡ | **é€‚é…**ï¼šæ”¾å¤§ä¸ºå…¨å®½ï¼Œå¢åŠ å‘¨æœŸä¿¡æ¯ |
| StatGrid | `StatCardWidget` + `StatGrid` | **ç›´æ¥å¤ç”¨** |
| æƒç›Šè¿›åº¦åˆ—è¡¨ | `ProgressTrackingPage` çš„é¢„ç®—è¿›åº¦åˆ—è¡¨ | **é€‚é…**ï¼šlabelâ†’æƒç›Šåï¼Œspent/limitâ†’å·²ç”¨/æ€»æ•°ï¼Œè¿›åº¦æ¡é¢œè‰²æŒ‰çŠ¶æ€ |
| å—ç›Šäººä½¿ç”¨ç»Ÿè®¡ | `ItemListCard` | **é€‚é…**ï¼šè´¦æˆ·â†’å—ç›Šäººå¤´åƒ+åå­—ï¼Œä½™é¢â†’æ ¸é”€æ¬¡æ•° |
| çŠ¶æ€å¾½ç«  | â€” | **æ–°å»º**ï¼šå¤šçŠ¶æ€å°æ ‡ç­¾ç»„ä»¶ï¼ˆavailable/exhausted/expiring/wastedï¼‰ |

### ViewModel è¾“å‡º

```typescript
interface SourceDetailViewModel {
  source: SourceHeader;             // æ¥æºå¤´éƒ¨ä¿¡æ¯
  stats: StatCard[];                // 3 ä¸ªç»Ÿè®¡
  benefitRows: BenefitRow[];        // æƒç›Šè¿›åº¦åˆ—è¡¨
  memberUsage: MemberUsageItem[];   // å—ç›Šäººä½¿ç”¨ç»Ÿè®¡

  // æ¥æºç¼–è¾‘
  handleUpdateSource: (updates: Partial<Source>) => void;
  handleDeleteSource: () => void;  // åˆ é™¤åå¯¼èˆªå› /sources
  handleToggleArchive: () => void;

  // æƒç›Š CRUD
  benefitFormOpen: boolean;
  setBenefitFormOpen: (open: boolean) => void;
  editingBenefitId: string | null;
  benefitFormInput: CreateBenefitInput;
  setBenefitFormInput: (input: CreateBenefitInput) => void;
  benefitFormErrors: ValidationError[];
  handleCreateBenefit: () => void;
  handleUpdateBenefit: () => void;
  handleDeleteBenefit: (id: string) => void;
  startEditBenefit: (id: string) => void;

  // å¿«æ·æ ¸é”€
  redeem: (benefitId: string, memberId: string, memo?: string) => void;
}

// ViewModel æœ¬åœ°æ¥å£
interface SourceHeader {
  id: string;
  name: string;
  memberName: string;
  categoryLabel: string;            // "ä¿¡ç”¨å¡"ã€"ä¿é™©" ç­‰
  currency: string;
  icon: { type: "favicon" | "icon" | "category"; value: string };  // resolveSourceIcon ç»“æœ
  phone: string | null;             // æœåŠ¡çƒ­çº¿
  websiteDomain: string | null;     // ä» website æå–çš„åŸŸåï¼ˆç”¨äºæ˜¾ç¤ºï¼‰
  validFromLabel: string | null;    // æ ¼å¼åŒ–çš„ç”Ÿæ•ˆæ—¥æœŸ
  validUntilLabel: string | null;   // æ ¼å¼åŒ–çš„åˆ°æœŸæ—¥æœŸ
  isExpired: boolean;               // æ˜¯å¦å·²è¿‡æœŸ
  isExpiringSoon: boolean;          // æ˜¯å¦å³å°†åˆ°æœŸ
  expiryWarning: string | null;     // "å·²è¿‡æœŸ" | "30å¤©ååˆ°æœŸ" | null
  overallUsagePercent: number;
  cycleLabel: string;               // "æ¯æœˆ25æ—¥é‡ç½®"
  nextResetLabel: string;           // "ä¸‹æ¬¡é‡ç½®ï¼š3æœˆ25æ—¥"
  archived: boolean;
}

interface BenefitRow {
  id: string;
  name: string;
  type: BenefitType;
  statusLabel: string;              // "4/6 æ¬¡" | "å·²ä½¿ç”¨" | "å¾…åŠ"
  statusColorClass: string;         // Tailwind ç±»å
  progressPercent: number;
  isExpiringSoon: boolean;
  expiryWarning: string | null;     // "5å¤©åè¿‡æœŸ"
  cycleLabel: string;
  shared: boolean;
}
```

---

## é¡µé¢å››ï¼šTrackerï¼ˆæ“ä½œå°ï¼‰

**è·¯ç”±**ï¼š`/tracker`
**ViewModel**ï¼š`useTrackerViewModel`
**æ ¸å¿ƒé—®é¢˜**ï¼šå¿«é€Ÿæ ¸é”€ä¸€ä¸ªæƒç›Šï¼ŒæŸ¥çœ‹æœ€è¿‘çš„æ ¸é”€è®°å½•ã€‚

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Row 1: StatGrid (3åˆ—)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ä»Šæ—¥æ ¸é”€     â”‚ â”‚  æœ¬å‘¨æ ¸é”€     â”‚ â”‚  æœ¬æœˆæ ¸é”€     â”‚    â”‚
â”‚  â”‚     2        â”‚ â”‚     7        â”‚ â”‚     15       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 2: 2:1 åˆ†æ                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  æ ¸é”€æ—¥å¿—                       â”‚ â”‚  å¿«æ·æ“ä½œ     â”‚   â”‚
â”‚  â”‚  (RecentListCard é€‚é…)          â”‚ â”‚ (ActionGrid)  â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  âœ… æœºåœºè´µå®¾å… Â· çˆ¸çˆ¸           â”‚ â”‚  [ğŸ« æ ¸é”€]    â”‚   â”‚
â”‚  â”‚     2æœˆ10æ—¥ Â· æ‹›è¡Œç™½é‡‘          â”‚ â”‚  [ğŸ“‹ æŸ¥çœ‹]    â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚  [â• æ–°æ¥æº]  â”‚   â”‚
â”‚  â”‚  âœ… æ˜Ÿå·´å…‹ä¹°ä¸€é€ä¸€ Â· å¦ˆå¦ˆ       â”‚ â”‚  [âš¡ ç§¯åˆ†]    â”‚   â”‚
â”‚  â”‚     2æœˆ9æ—¥ Â· 88VIP             â”‚ â”‚              â”‚   â”‚
â”‚  â”‚                                â”‚ â”‚              â”‚   â”‚
â”‚  â”‚  âœ… æœˆåº¦çº¢åŒ… Â· çˆ¸çˆ¸             â”‚ â”‚              â”‚   â”‚
â”‚  â”‚     2æœˆ1æ—¥ Â· 88VIP             â”‚ â”‚              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Row 3: å¯æ ¸é”€æƒç›Šåˆ—è¡¨ (å…¨å®½)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ“‹ å¯æ ¸é”€æƒç›Š                                    â”‚    â”‚
â”‚  â”‚                                                  â”‚    â”‚
â”‚  â”‚  æ‹›è¡Œç™½é‡‘ Â· é…’åº—æƒç›Š     0/1æ¬¡  âš  5å¤©å   [æ ¸é”€]  â”‚    â”‚
â”‚  â”‚  æ‹›è¡Œç™½é‡‘ Â· æ´—ç‰™         0/1æ¬¡  30å¤©å    [æ ¸é”€]  â”‚    â”‚
â”‚  â”‚  88VIP Â· è§†é¢‘ä¼šå‘˜æœˆå¡    æœªä½¿ç”¨  æœˆåº•è¿‡æœŸ  [æ ¸é”€]  â”‚    â”‚
â”‚  â”‚  å¹³å®‰ Â· ä½“æ£€             0/1æ¬¡  90å¤©å    [æ ¸é”€]  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶æ˜ å°„

| åŒºåŸŸ | basalt ç»„ä»¶ | é€‚é…æ–¹å¼ |
|---|---|---|
| StatGrid | `StatCardWidget` + `StatGrid` | **ç›´æ¥å¤ç”¨** |
| æ ¸é”€æ—¥å¿— | `RecentListCard` | **é€‚é…**ï¼šäº¤æ˜“å›¾æ ‡â†’æƒç›Šå›¾æ ‡ï¼Œé‡‘é¢â†’æ¥æºåï¼Œæ—¥æœŸâ†’æ ¸é”€æ—¥æœŸ |
| å¿«æ·æ“ä½œ | `ActionGridCard` | **ç›´æ¥å¤ç”¨**ï¼Œæ›¿æ¢æ“ä½œæ ‡ç­¾å’Œå›¾æ ‡ |
| å¯æ ¸é”€æƒç›Šåˆ—è¡¨ | `ProgressTrackingPage` é¢„ç®—åˆ—è¡¨ | **é€‚é…**ï¼šå¢åŠ  [æ ¸é”€] æŒ‰é’® |
| æ ¸é”€ç¡®è®¤ | shadcn `Dialog` | **æ–°å»º**ï¼šé€‰æ‹©å—ç›Šäºº â†’ ç¡®è®¤æ ¸é”€çš„å¼¹çª— |

### æ ¸é”€äº¤äº’æµç¨‹

```
ç”¨æˆ·ç‚¹å‡» [æ ¸é”€] æŒ‰é’®
      â”‚
      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  æ ¸é”€ç¡®è®¤ Dialog      â”‚
  â”‚                     â”‚
  â”‚  æƒç›Šï¼šæœºåœºè´µå®¾å…     â”‚
  â”‚  æ¥æºï¼šæ‹›è¡Œç™½é‡‘       â”‚
  â”‚  ç±»å‹ï¼šæ¬¡æ•°å‹ (4/6)   â”‚
  â”‚                     â”‚
  â”‚  ä½¿ç”¨äººï¼š[çˆ¸çˆ¸ â–¾]     â”‚   â† é»˜è®¤ä¸º Source çš„å—ç›Šäºº
  â”‚  å¤‡æ³¨ï¼š[________]    â”‚   â† å¯é€‰
  â”‚                     â”‚
  â”‚  [å–æ¶ˆ]   [ç¡®è®¤æ ¸é”€]  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼
  Toast: "âœ… å·²æ ¸é”€ï¼šæœºåœºè´µå®¾å… (5/6)"
```

### ViewModel è¾“å‡º

```typescript
interface TrackerViewModel {
  stats: StatCard[];
  recentRedemptions: RedemptionLogItem[];
  redeemableBenefits: RedeemableBenefitItem[];

  // æ ¸é”€æ“ä½œ
  redeem: (benefitId: string, memberId: string, memo?: string) => void;

  // æ’¤é”€æ ¸é”€
  undoRedemption: (redemptionId: string) => void;
}
```

---

## é¡µé¢äº”ï¼šSettingsï¼ˆè®¾ç½®ï¼‰

**è·¯ç”±**ï¼š`/settings`
**ViewModel**ï¼š`useSettingsViewModel`
**æ ¸å¿ƒé—®é¢˜**ï¼šç®¡ç†å®¶åº­å—ç›Šäººã€è°ƒæ•´åå¥½ã€‚

### å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  grid lg:grid-cols-4                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å¯¼èˆª      â”‚ â”‚  å†…å®¹åŒº                               â”‚    â”‚
â”‚  â”‚          â”‚ â”‚                                      â”‚    â”‚
â”‚  â”‚ å—ç›Šäºº â† â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚ åå¥½è®¾ç½®  â”‚ â”‚  â”‚  å®¶åº­å—ç›Šäºº                     â”‚    â”‚    â”‚
â”‚  â”‚ æ—¶åŒº     â”‚ â”‚  â”‚                              â”‚    â”‚    â”‚
â”‚  â”‚ è´¦æˆ·     â”‚ â”‚  â”‚  ğŸ‘¤ çˆ¸çˆ¸ (æœ¬äºº)  [ç¼–è¾‘] [åˆ é™¤] â”‚    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚  â”‚  ğŸ‘¤ å¦ˆå¦ˆ (é…å¶)  [ç¼–è¾‘] [åˆ é™¤] â”‚    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚  â”‚  ğŸ‘¤ å¥¶å¥¶ (çˆ¶æ¯)  [ç¼–è¾‘] [åˆ é™¤] â”‚    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚  â”‚                              â”‚    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚  â”‚  [+ æ·»åŠ å—ç›Šäºº]               â”‚    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â”‚          â”‚ â”‚                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **æ·»åŠ /ç¼–è¾‘å—ç›Šäººå¼¹çª—**ï¼šç‚¹å‡» [+ æ·»åŠ å—ç›Šäºº] æˆ– [ç¼–è¾‘] æ—¶å¼¹å‡º Dialog è¡¨å•ï¼ŒåŒ…å«ï¼šåç§°ï¼ˆå¿…å¡«ï¼‰ã€ä¸æˆ·ä¸»å…³ç³»ï¼ˆä¸‹æ‹‰é€‰æ‹© MemberRelationship æšä¸¾ï¼Œå¿…å¡«ï¼‰ã€å¤´åƒï¼ˆå¯é€‰ emoji é€‰æ‹©å™¨ï¼‰ã€‚

### è®¾ç½®åˆ†åŒº

| åˆ†åŒº | å†…å®¹ | basalt æ¥æº |
|---|---|---|
| **å—ç›Šäºº** | å®¶åº­æˆå‘˜ CRUD åˆ—è¡¨ï¼ˆæ˜¾ç¤ºåç§°+å…³ç³»ï¼‰ | `SecuritySection` ä¼šè¯åˆ—è¡¨é€‚é… + `ProfileSection` è¡¨å•é€‚é… |
| **åå¥½è®¾ç½®** | ä¸»é¢˜åˆ‡æ¢ã€é€šçŸ¥å¼€å…³ | `AppearanceSection` + `NotificationsSection` ç›´æ¥å¤ç”¨ |
| **æ—¶åŒº** | æ—¶åŒºé€‰æ‹©ï¼ˆç”¨äºå‘¨æœŸè®¡ç®—çš„æ—¥æœŸåˆ¤å®šï¼‰ | æ–°å¢ï¼Œä¸‹æ‹‰é€‰æ‹©å¸¸ç”¨æ—¶åŒºï¼ˆé»˜è®¤ Asia/Shanghaiï¼‰ |
| **è´¦æˆ·** | Google è´¦æˆ·ä¿¡æ¯ï¼ˆåªè¯»ï¼‰ã€ç™»å‡º | `ProfileSection` é€‚é…ï¼ˆåªè¯»æ¨¡å¼ï¼‰ |

### æ—¶åŒºè®¾ç½®è¯¦æƒ…

æ—¶åŒºå½±å“å‘¨æœŸå¼•æ“ä¸­"ä»Šå¤©æ˜¯å‡ å·"çš„åˆ¤å®šã€‚ä¾‹å¦‚ï¼š
- ç”¨æˆ·åœ¨ UTC+8 åŒºåŸŸï¼Œå½“åœ°æ—¶é—´ 2026-03-01 01:00ï¼Œæ­¤æ—¶ UTC ä»ä¸º 2026-02-28 17:00ã€‚
- å¦‚æœä¸è€ƒè™‘æ—¶åŒºï¼Œæœˆåº¦æƒç›Šå¯èƒ½æå‰/å»¶åé‡ç½®ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ—¶åŒºè®¾ç½®                              â”‚
â”‚                                      â”‚
â”‚  å½“å‰æ—¶åŒºï¼šAsia/Shanghai (UTC+8)       â”‚
â”‚                                      â”‚
â”‚  [Asia/Shanghai â–¾]                   â”‚
â”‚                                      â”‚
â”‚  å¸¸ç”¨æ—¶åŒºï¼š                            â”‚
â”‚  Â· Asia/Shanghai (UTC+8) åŒ—äº¬/ä¸Šæµ·    â”‚
â”‚  Â· Asia/Tokyo (UTC+9) ä¸œäº¬            â”‚
â”‚  Â· America/New_York (UTC-5) çº½çº¦     â”‚
â”‚  Â· America/Los_Angeles (UTC-8) æ´›æ‰çŸ¶ â”‚
â”‚  Â· Europe/London (UTC+0) ä¼¦æ•¦         â”‚
â”‚                                      â”‚
â”‚  æç¤ºï¼šæ—¶åŒºå½±å“æƒç›Šå‘¨æœŸçš„æ—¥æœŸåˆ¤å®šã€‚       â”‚
â”‚  ä¿®æ”¹æ—¶åŒºåï¼Œå½“å‰å‘¨æœŸçš„å‰©ä½™å¤©æ•°è®¡ç®—       â”‚
â”‚  å¯èƒ½å‘ç”Ÿå˜åŒ–ã€‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ViewModel è¾“å‡º

```typescript
interface SettingsViewModel {
  // å¯¼èˆª
  activeSection: string;
  setActiveSection: (section: string) => void;

  // å—ç›Šäºº CRUD
  members: MemberItem[];  // åŒ…å« name + relationship æ˜¾ç¤º
  memberFormOpen: boolean;
  setMemberFormOpen: (open: boolean) => void;
  editingMemberId: string | null;
  memberFormInput: CreateMemberInput;  // { name, relationship, avatar }
  setMemberFormInput: (input: CreateMemberInput) => void;
  memberFormErrors: ValidationError[];
  handleCreateMember: () => void;
  handleUpdateMember: () => void;
  handleDeleteMember: (id: string) => void;
  startEditMember: (id: string) => void;
  memberDependents: DependentsSummary | null;  // åˆ é™¤å‰çš„çº§è”æ£€æŸ¥

  // æ—¶åŒº
  timezone: string;                     // IANA æ—¶åŒºæ ‡è¯†ï¼Œå¦‚ "Asia/Shanghai"
  setTimezone: (tz: string) => void;
  timezoneOptions: TimezoneOption[];    // å¸¸ç”¨æ—¶åŒºåˆ—è¡¨
}

interface MemberItem {
  id: string;
  name: string;
  relationship: MemberRelationship;
  relationshipLabel: string;  // é¢„è®¡ç®—çš„ä¸­æ–‡æ ‡ç­¾ï¼š"æœ¬äºº"ã€"é…å¶"ç­‰
  avatar: string | null;
  sourceCount: number;  // å…³è”çš„æ¥æºæ•°é‡ï¼ˆç”¨äºåˆ é™¤æ£€æŸ¥æç¤ºï¼‰
}

interface TimezoneOption {
  value: string;         // "Asia/Shanghai"
  label: string;         // "Asia/Shanghai (UTC+8) åŒ—äº¬/ä¸Šæµ·"
  offsetLabel: string;   // "UTC+8"
}
```

---

## æ–°å»ºç»„ä»¶æ¸…å•

ä»¥ä¸‹ç»„ä»¶éœ€è¦ä»é›¶æ„å»ºï¼ˆéµå¾ª basalt è§†è§‰é£æ ¼ï¼‰ï¼š

| ç»„ä»¶ | ä½¿ç”¨é¡µé¢ | å¤æ‚åº¦ | è¯´æ˜ |
|---|---|---|---|
| `MemberFilterBar` | Sources | ä½ | æ°´å¹³ pill æŒ‰é’®è¡Œï¼Œé€‰ä¸­æ€ç”¨ `bg-primary` |
| `BenefitStatusBadge` | Source Detail, Tracker | ä½ | å¤šçŠ¶æ€å°æ ‡ç­¾ï¼šavailable(ç»¿)/exhausted(ç°)/expiring(æ©™)/wasted(çº¢)/pending(è“) |
| `RedeemDialog` | Tracker, Source Detail | ä¸­ | æ ¸é”€ç¡®è®¤å¼¹çª—ï¼šé€‰æ‹©å—ç›Šäºº + å¤‡æ³¨ + ç¡®è®¤ã€‚åŸºäº shadcn Dialog |
| `BenefitProgressRow` | Source Detail, Tracker | ä½ | æƒç›Šè¿›åº¦è¡Œï¼šåç§° + çŠ¶æ€æ ‡ç­¾ + è¿›åº¦æ¡ + æ“ä½œæŒ‰é’®ï¼ˆæ ¸é”€/ç¼–è¾‘/åˆ é™¤ï¼‰ã€‚ä» ProgressTrackingPage çš„é¢„ç®—è¡Œé€‚é… |
| `SourceCard` | Sources | ä½ | æ¥æºå¡ç‰‡ï¼šfavicon å›¾æ ‡ï¼ˆåŠ è½½å¤±è´¥ fallback åˆ° icon/åˆ†ç±»é»˜è®¤å›¾æ ‡ï¼‰+ åç§° + æœåŠ¡çƒ­çº¿ + è¿›åº¦æ¡ + å…ƒæ•°æ®ï¼ˆæœ‰æ•ˆæœŸã€ä¸‹æ¬¡é‡ç½®ï¼‰+ å·²è¿‡æœŸ/å³å°†åˆ°æœŸæ ‡ç­¾ + æ“ä½œèœå•ï¼ˆç¼–è¾‘/å½’æ¡£/åˆ é™¤ï¼‰ã€‚ä» TargetCardsPage çš„ç›®æ ‡å¡ç‰‡é€‚é… |
| `PointsSourceCard` | Sources | ä½ | ç§¯åˆ†æ¥æºå¡ç‰‡ï¼šä½™é¢ + å¯å…‘æ¢é¡¹è®¡æ•° + æ“ä½œèœå• |
| `SourceFormDialog` | Sources, Source Detail | ä¸­ | æ–°å¢/ç¼–è¾‘æ¥æºå¼¹çª—ï¼šåç§°ã€ç½‘ç«™URLã€æœåŠ¡çƒ­çº¿ã€åˆ†ç±»ã€å¸ç§ã€å—ç›Šäººã€å‘¨æœŸé”šç‚¹é…ç½®ã€ç”Ÿæ•ˆæ—¥æœŸã€åˆ°æœŸæ—¥æœŸã€‚åŸºäº shadcn Dialogã€‚ç½‘ç«™å­—æ®µå«æ ¼å¼æç¤ºï¼ˆéœ€å« https://ï¼‰ã€‚æœ‰æ•ˆæœŸå­—æ®µä½¿ç”¨æ—¥æœŸé€‰æ‹©å™¨ã€‚ |
| `BenefitFormDialog` | Source Detail | ä¸­ | æ–°å¢/ç¼–è¾‘æƒç›Šå¼¹çª—ï¼šåç§°ã€ç±»å‹ã€é…é¢/é¢åº¦ã€å‘¨æœŸè¦†ç›–ã€å…±äº«è®¾ç½®ã€‚åŸºäº shadcn Dialog |
| `MemberFormDialog` | Settings | ä½ | æ–°å¢/ç¼–è¾‘å—ç›Šäººå¼¹çª—ï¼šåç§°ã€å…³ç³»ã€å¤´åƒã€‚åŸºäº shadcn Dialog |
| `DeleteConfirmDialog` | å…¨å±€é€šç”¨ | ä½ | åˆ é™¤ç¡®è®¤å¼¹çª—ï¼šæ˜¾ç¤ºçº§è”å½±å“ç»Ÿè®¡ + ç¡®è®¤æŒ‰é’®ã€‚åŸºäº shadcn AlertDialog |
| `TimezoneSelect` | Settings | ä½ | æ—¶åŒºä¸‹æ‹‰é€‰æ‹©å™¨ï¼Œå«å¸¸ç”¨æ—¶åŒºå’Œ UTC åç§»æ˜¾ç¤º |

## é¡µé¢è·¯ç”±æ³¨å†Œ

åœ¨ `DashboardLayout.tsx` çš„ `PAGE_TITLES` ä¸­æ·»åŠ ï¼š

```typescript
const PAGE_TITLES: Record<string, string> = {
  "/": "ä»ªè¡¨ç›˜",
  "/sources": "æ¥æº",
  "/tracker": "æ ¸é”€å°",
  "/settings": "è®¾ç½®",
  // åŠ¨æ€è·¯ç”± /sources/[id] çš„æ ‡é¢˜ç”±é¡µé¢ç»„ä»¶è‡ªè¡Œè®¾ç½®ï¼ˆæ˜¾ç¤ºæ¥æºåç§°ï¼‰
};
```
